<!DOCTYPE html>

<html lang="pt-br">
	<head>
		<meta charset="utf-8"/>
		<title>Visualizador de Cifras</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet"/>
		<style>
html, body {
  height: 100%;
  margin: 0;
  overflow: hidden; /* Impede rolagem global */
}

#left-panel {
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid #ccc;
  margin-top: 60px;
}

#right-panel {
  height: 100vh;
  display: flex;
  flex-direction: column;
  padding-top: 60px; /* altura da barra fixa */
  overflow: hidden;
}

#divControle {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background-color: white;
  z-index: 1050;
  padding: 10px;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  border-bottom: 1px solid #ccc;
}

#divRolagem {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

#txtViewer {
  flex: 1;
  overflow-y: auto;
  font-family: monospace;
  padding: 10px;
}

			.list-group-item:hover {
			  cursor: pointer !important;
			}



		</style>
	</head>
	<body>
		<div class="container-fluid">
			<div class="row">
				<!-- Painel Esquerdo -->
				<div class="col-md-3 p-3" id="left-panel">
					<div style="display:none">
						<!-- Abas -->
						<ul class="nav nav-tabs" id="abasExemplo" role="tablist">
							<li class="nav-item" role="presentation">
								<button aria-controls="arqLoc" aria-selected="true" class="nav-link active" data-bs-target="#arqLoc" data-bs-toggle="tab" id="arqLoc-tab" role="tab" type="button">Local</button>
							</li>
							<li class="nav-item" role="presentation">
								<button aria-controls="arqGdr" aria-selected="false" class="nav-link" data-bs-target="#arqGdr" data-bs-toggle="tab" id="arqGdr-tab" role="tab" type="button">Google Drive</button>
							</li>
						</ul>
						<!-- Conteúdo das Abas -->
						<div class="tab-content p-3 border border-top-0" id="abasExemploConteudo">
							<div aria-labelledby="arqLoc-tab" class="tab-pane fade show active" id="arqLoc" role="tabpanel">
								<br/>
								<input accept=".txt,.pdf,.doc*,.html,.rtf" class="form-control" directory="True" id="folderInput" multiple="True" type="file" webkitdirectory="True"/>
							</div>
							<div aria-labelledby="arqGdr-tab" class="tab-pane fade" id="arqGdr" role="tabpanel">
								<br/>
								<input class="form-control" id="cloud-link" placeholder="https://drive.google.com/..." type="url"/>
								<input class="form-control mb-3" id="api-key" placeholder="Cole sua chave de API aqui" type="text"/>
								<button class="btn btn-outline-secondary w-100 mb-3" onclick="loadDriveFiles()">Carregar Arquivos do Drive</button>
							</div>
						</div>
					</div>
					<!-- Filtros -->
					<!-- Lista de musicas -->
					<input class="form-control mb-3" id="search-filter" placeholder="Buscar música..." type="text"/>
					<ul class="list-group" id="songList" style="font-size: 12px;">
					</ul>
				</div>
				<!-- Painel Direito -->
				
				
				
				<div class="col-md-9" id="right-panel">

						<div id="divControle" >
							<input class="form-control" id="wait-time" min="0" style="display:none;" title="Espera para scroll" type="number" value="5"/>
							<input class="form-control" id="rollout-time" min="0" style="display:none;" title="Scroll em segundos" type="number" value="90"/>
							<input class="form-control" id="uploadFileGitHub" style="display:none;" title="Arquivo para upload" type="file"/>
							<button class="btn btn-outline-secondary" id="btnIniciar" onclick="startRollout(true)" title="Iniciar"><i class="bi bi-play-fill"></i></button>
							<button class="btn btn-outline-secondary" id="btnPausar" onclick="pauseRollout()" title="Pausar"><i class="bi bi-pause-fill"></i></button>
							<button class="btn btn-outline-secondary" id="btnContinuar" onclick="continueRollout()" title="Continuar"><i class="bi bi-play"></i></button>
							<button class="btn btn-outline-secondary" id="btnParar" onclick="stopRollout()" title="Parar"><i class="bi bi-stop-fill"></i></button>
							<button class="btn btn-outline-secondary" id="btnDevagar" onclick="adjustRolloutTime(10)" title="Diminuir rolagem"><i class="bi bi-rewind"></i></button>
							<button class="btn btn-outline-secondary" id="btnRapido" onclick="adjustRolloutTime(-10)" title="Acelerar rolagem"><i class="bi bi-fast-forward"></i></button>
<!--
							<button class="btn btn-outline-secondary" id="btnMenor" onclick="changeFontSize(false)" title="Diminuir fonte"><i class="bi bi-zoom-out"></i>a</button>
							<button class="btn btn-outline-secondary" id="btnMaior" onclick="changeFontSize(true)" title="Aumentar fonte"><i class="bi bi-zoom-in"></i>A</button>
-->							
							<button class="btn btn-outline-secondary" id="btnMenor" onclick="changeFontSize(false)" title="Diminuir fonte"><strong>a</strong></button>
							<button class="btn btn-outline-secondary" id="btnMaior" onclick="changeFontSize(true)" title="Aumentar fonte"><strong>A</strong></button>
							
							<button class="btn btn-outline-secondary" id="btnUpload" onclick="uploadToGitHub()" title="Upload arquivo"><i class="bi bi-upload"></i></button>
							<button class="btn btn-outline-secondary" id="btnVoice" onclick="toggleVoiceControl()" title="Ativar/desativar comando por voz"><i class="bi bi-mic-fill"></i></button>
							<button class="btn btn-outline-secondary" data-bs-target="#configModal" data-bs-toggle="modal" id="configButton"><i class="bi bi-gear-fill"></i></button>
						</div>


<!-- Rolagem de telas -->




					<div id="divRolagem">
						<!-- Conteudo do arquivo -->
						<!-- Divisões por tipo de arquivo  -->
						<div id="txtViewer" ></div>
					</div>
				</div>
			</div>
			<!-- Modal para exibir mapeamento de comandos -->
			<div aria-hidden="true" aria-labelledby="voiceCommandModalLabel" class="modal fade" id="voiceCommandModal" tabindex="-1">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="voiceCommandModalLabel">Comandos de Voz Disponíveis</h5>
							<button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
						</div>
						<div class="modal-body">
							<table class="table table-bordered" style="font-size:small">
								<thead>
									<tr><th>Diga</th><th>Para</th></tr>
								</thead>
								<tbody id="tabComandos"></tbody>
							</table>
							<ul id="voiceCommandList"></ul>
						</div>
						<div class="modal-footer">
							<div class="form-check mt-3">
								  <input class="form-check-input" id="naoMostrarNovamente" type="checkbox" value=""/>
								  <label class="form-check-label" for="naoMostrarNovamente">
									    Não mostrar novamente
								  </label>
							</div>
							<button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Fechar</button>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Modal de configuracoes -->
			<div aria-hidden="true" aria-labelledby="configModalLabel" class="modal fade" id="configModal" tabindex="-1">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="configModalLabel">Configurações</h5>
							<button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
						</div>
						<div class="modal-body">
							<form id="configForm">
								
								<h5>Tempo em segundos para inciar rolagem</h5>
								<div class="mb-3 d-flex align-items-center">
									<label class="form-label me-2 mb-0" for="autoStartTime" style="min-width: 300px;">Após selecionar a cifra</label>
									<input class="form-control" id="autoStartTime" name="autoStartTime" type="number" style="max-width: 200px;"/>
								</div>
								<div class="mb-3 d-flex align-items-center">
									<label class="form-label me-2 mb-0" for="autoStartVoiceTime" style="min-width: 300px;">Após abrir com comando de voz</label>
									<input class="form-control" id="autoStartVoiceTime" name="autoStartVoiceTime" type="number" style="max-width: 200px;"/>
								</div>
								<h5>Comando de voz</h5>
								<div class="mb-3 d-flex align-items-center">
									<label class="form-label me-2 mb-0" for="voiceCommandWord" style="min-width: 300px;">Palavra para comando de voz</label>
									<input class="form-control" id="voiceCommandWord" name="voiceCommandWord" type="text" style="max-width: 200px;"/>
								</div>
								<div class="mb-3 form-check form-switch">
									<input class="form-check-input" type="checkbox" id="showVoiceCommandModal" name="showVoiceCommandModal"/>
									<label class="form-check-label" for="showVoiceCommandModal">Apresentar instruções ao ativar microfone</label>
								</div>
								
							</form>
						</div>
						<div class="modal-footer">
							<button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Fechar</button>
							<button class="btn btn-primary" id="saveConfigButton" type="button">Salvar Configurações</button>
						</div>
					</div>
				</div>
			</div>
			
			
			
			
			
			<script>
				
				// **********************************************
				// Declaração de variáveis 
				// **********************************************
				const usuario = "pedrones";
				const repositorio = "cifras";
				const pasta = "cifras";
				
				let autoStartTime = localStorage.getItem('autoStartTime') || 5;
				let autoStartVoiceTime = localStorage.getItem('autoStartVoiceTime') || 5;
				let voiceCommandWord = localStorage.getItem('voiceCommandWord') || 'sargento';
				let showVoiceCommandModal = localStorage.getItem('showVoiceCommandModal') === 'true';
				let comandos = [];
				let rolloutInterval;
				let isPaused = false;
				let scrolled = 0;
				let scrollHeight;
				let step;
				let recognition;
				let recognizing = false;
				
				loadComandos();
				
				fetch(`https://api.github.com/repos/${usuario}/${repositorio}/contents/`)
				.then(response => response.json())
				.then(files => {
					const songList = document.getElementById('songList');
					const txtViewer = document.getElementById('txtViewer');
					files.forEach(file => {
						if (file.name.endsWith('.txt')) {
							const li = document.createElement('li');
							li.className = 'list-group-item';
							li.textContent = file.name;
							li.style.cursor = 'pointer';
							li.onclick = () => {
								fetch(file.download_url)
								.then(res => res.text())
								.then(texto => {
									stopRollout();
									const linhas = texto.split('\n');
									const htmlFormatado = linhas.map((linha, index) => {
										const linhaEscapada = linha.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
										const linhaComEspacos = linhaEscapada.replace(/ /g, '&nbsp;');
										const linhaTrim = linha.trim();
										
										if (index === 0) {
											return `<h5>${linhaComEspacos}</h5>`;
											} else if (linhaTrim.length < 6 || / {3,}/.test(linha)) {
											return `<strong style="color:red">${linhaComEspacos}</strong>`;
											} else {
											return linhaComEspacos;
										}
									}).join('<br>');
									txtViewer.innerHTML = htmlFormatado;
									txtViewer.scrollTop = 0;
									document.getElementById('right-panel').scrollTop = 0;
									/*
										setTimeout(() => {
										  startRollout();
										}, 5000); 
									*/
								})
								.catch(err => {
									txtViewer.textContent = "Erro ao carregar o arquivo.";
									console.error(err);
								});
							};
							songList.appendChild(li);
						}
					});
				})
				.catch(error => {
					console.error("Erro ao acessar a API do GitHub:", error);
					document.getElementById('txtViewer').textContent = "Erro ao carregar lista de arquivos.";
				});
				
				// **********************************************
				// Função para carregar comandos 
				// **********************************************
				function loadComandos() {
					voiceCommandWord = localStorage.getItem('voiceCommandWord') || 'sargento'; 
					
					comandos = [
					  [`${voiceCommandWord} iniciar`, "Iniciar a rolagem", "btnIniciar"],
					  [`${voiceCommandWord} pausar`, "Pausar a rolagem", "btnPausar"],
					  [`${voiceCommandWord} continuar`, "Continuar a rolagem", "btnContinuar"],
					  [`${voiceCommandWord} parar`, "Parar a rolagem", "btnParar"],
					  [`${voiceCommandWord} devagar`, "Deixar a rolagem mais lenta", "btnDevagar"],
					  [`${voiceCommandWord} rápido`, "Deixar a rolagem mais rápida", "btnRapido"],
					  [`${voiceCommandWord} menor`, "Diminuir o tamanho da fonte", "btnMenor"],
					  [`${voiceCommandWord} maior`, "Aumentar o tamanho da fonte", "btnMaior"],
					  [`${voiceCommandWord} tocar xyz`, "Buscar e começar a rolagem da música xyz", ""]
					];
					
				    const tbody = document.getElementById("tabComandos");
					tbody.innerHTML = "";
				    comandos.forEach(([comando, descricao, botao]) => {
					      const tr = document.createElement("tr");
					      tr.innerHTML = 
					        `<td>${comando}</td><td>${descricao}</td>`;
					      tbody.appendChild(tr);
				    });
				
					
				}
				
				// **********************************************
				// Começa a observar quando o DOM estiver pronto
				// **********************************************
				function showSong(id) {
					document.querySelectorAll('.song-div').forEach(div => div.classList.remove('active'));
					document.getElementById(id).classList.add('active');
				}
				
				document.getElementById('search-filter').addEventListener('input', filterSongs);
				
				// **********************************************
				// Filtra musica pelo nome
				// **********************************************
				function filterSongs() {
					const search = document.getElementById('search-filter').value.toLowerCase();
					document.querySelectorAll('#songList li').forEach(item => {
						const matchesSearch = !search || item.textContent.toLowerCase().includes(search);
						item.style.display = matchesSearch ? '' : 'none';
					});
				}
				
				// **********************************************
				//	Inicia o rollout 
				// **********************************************
				function startRollout(resetToTop = false) {
					const seconds = parseInt(document.getElementById('rollout-time').value) * 1000;     
//					const panel = document.getElementById('right-panel');
					const panel = document.getElementById('txtViewer');
					
					if (resetToTop) {
						panel.scrollTop = 0;
						document.getElementById('txtViewer').scrollTop = 0;
					}
					
					scrollHeight = panel.scrollHeight - panel.clientHeight;
					step = scrollHeight / (seconds / 100);
					scrolled = panel.scrollTop;
					isPaused = false;
					
					clearInterval(rolloutInterval);
					
					rolloutInterval = setInterval(() => {
						if (scrolled >= scrollHeight || isPaused) {
							clearInterval(rolloutInterval);
							} else {
							panel.scrollTop += step;
							scrolled += step;
						}
					}, 100);
				}
				
				// **********************************************
				// Pausa o rollout
				// **********************************************
				function pauseRollout() {
					isPaused = true;
				}
				
				// **********************************************
				// Continua o rollout
				// **********************************************
				function continueRollout() {
					
					if (!isPaused) return;
					isPaused = false;
					const panel = document.getElementById('txtViewer');
					rolloutInterval = setInterval(() => {
						if (scrolled >= scrollHeight || isPaused) {
							clearInterval(rolloutInterval);
							} else {
							panel.scrollTop += step;
							scrolled += step;
						}
					}, 100);
				}
				
				// **********************************************
				// Para o rollout
				// **********************************************
				function stopRollout() {
					clearInterval(rolloutInterval);
					isPaused = false;
				}
				
				// **********************************************
				// Controlador do scroll  
				// **********************************************
				const observer = new IntersectionObserver((entries) => {
					entries.forEach(entry => {
						if (entry.isIntersecting) {
							console.log("txtViewer visível - iniciando scroll");
							startRollout();
							} else {
							console.log("txtViewer fora de vista - parando scroll");
							stopRollout();
						}
					});
					}, {
					root: document.getElementById('right-panel'),
					threshold: 0.5 // Ajuste a sensibilidade da visibilidade
				});
				
				// **********************************************
				// Começa a observar quando o DOM estiver pronto
				// **********************************************
				window.addEventListener('DOMContentLoaded', () => {
					const target = document.getElementById('txtViewer');
					if (target) observer.observe(target);
				});
				
				// **********************************************
				// Controla o tempo de rolagem
				// **********************************************
				function adjustRolloutTime(delta) {
					const input = document.getElementById('rollout-time');
					let current = parseInt(input.value) || 0;
					current += delta;
					if (current < 5) current = 5; // tempo mínimo de rolagem
					input.value = current;
					
					// Se já estiver rolando, reinicia com o novo tempo
					if (rolloutInterval && !isPaused) {
						stopRollout();
						startRollout();
					}
				}
				
				// **********************************************
				// Controla o tamanho da fonte
				// **********************************************
				function changeFontSize(increase = true) {
					    const viewer = document.getElementById('txtViewer');
					    if (!viewer) return;
					
					    const style = window.getComputedStyle(viewer, null).getPropertyValue('font-size');
					    const currentSize = parseFloat(style);
					    const newSize = increase ? currentSize + 2 : currentSize - 2;
					
					    viewer.style.fontSize = `${newSize}px`;
				}
				
				// **********************************************
				// Upload de arquivo
				// **********************************************
				async function uploadToGitHub() {
					
					const token = prompt("Informe seu token de acesso pessoal do GitHub:");
					if (!token) {
						alert("Token não informado.");
						return;
					}
					
					const fileInput = document.getElementById('uploadFileGitHub');
					
					// Define o que fazer quando o usuário escolher o arquivo
					fileInput.onchange = function () {
						const file = fileInput.files[0];
						if (!file) {
							alert("Nenhum arquivo selecionado.");
							return;
						}
						
						const reader = new FileReader();
						reader.onload = async function (e) {
							const content = e.target.result;
							const base64Content = btoa(unescape(encodeURIComponent(content)));
							const url = `https://api.github.com/repos/${usuario}/${repositorio}/contents/${file.name}`;
							const response = await fetch(url, {
								method: "PUT",
								headers: {
									"Authorization": "Bearer " + token,
									"Content-Type": "application/json"
								},
								body: JSON.stringify({
									message: "Upload via página web",
									content: base64Content
								})
							});
							
							const result = await response.json();
							if (response.ok) {
								alert("Arquivo salvo com sucesso!");
								} else {
								alert("Erro: " + result.message);
							}
						};
						reader.readAsText(file);
					};
					
					// Abre o seletor de arquivos
					fileInput.click();
				}
				
				// **********************************************
				// Habilita ou desabilita o comando de voz
				// **********************************************
				function toggleVoiceControl() {
					if (!recognition) {
						const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
						recognition = new SpeechRecognition();
						recognition.lang = 'pt-BR';
						recognition.continuous = true;
						recognition.interimResults = false;
						
						recognition.onresult = function(event) {
							for (let i = event.resultIndex; i < event.results.length; ++i) {
								if (event.results[i].isFinal) {
									const command = event.results[i][0].transcript.trim().toLowerCase();
									processVoiceCommand(command);
								}
							}
						};
						
						recognition.onerror = function(event) {
							console.error('Erro no reconhecimento de voz:', event.error);
						};
						
						recognition.onend = function() {
							    if (recognizing) {
								        recognition.start(); // Reinicia automaticamente
							    }
						};
					}
					
					if (recognizing) {
						recognition.stop();
						recognizing = false;
						document.getElementById('btnVoice').classList.remove('btn-success');
						document.getElementById('btnVoice').classList.add('btn-outline-secondary');
						} else {
						recognition.start();
						recognizing = true;
						document.getElementById('btnVoice').classList.remove('btn-outline-secondary');
						document.getElementById('btnVoice').classList.add('btn-success');
						
						if (localStorage.getItem("showVoiceCommandModal")) {
							abrirModalComandos();
						}
					}
				}
				
				// **********************************************
				// Executa o comando de voz
				// **********************************************
				function processVoiceCommand(command) {
					
					    comandos.forEach(([comando, descricao, botao]) => {
						
						if (command === comando) {
							document.getElementById(botao).click();
							return;
						}
					    });
					
					
					if (command.startsWith(`${voiceCommandWord} tocar`)) {
						const songName = command.replace(`${voiceCommandWord} tocar`, '').trim();
						const items = document.querySelectorAll('#songList li');
						for (const item of items) {
							if (item.textContent.toLowerCase().includes(songName)) {
								item.click();
								setTimeout(() => document.getElementById('btnIniciar').click(), 3000);
								break;
							}
						}
					}
				}
				
				// **********************************************
				// Abre a janela modal de comandos de voz 
				// **********************************************
				
				function abrirModalComandos() {
					  if (localStorage.getItem('showVoiceCommandModal') === 'false') return;
					
						  loadComandos();
						  const modal = new bootstrap.Modal(document.getElementById('voiceCommandModal'));
						  modal.show();

						  const checkbox = document.getElementById('naoMostrarNovamente');
						  checkbox.checked = false;

						  checkbox.addEventListener('change', () => {
						    localStorage.setItem('naoMostrarComandos', checkbox.checked);
						});
				}
				
				// **********************************************
				// Esconde o controle de voz se browser incompativel
				// **********************************************
				window.addEventListener('DOMContentLoaded', () => {
					
					localStorage.removeItem('naoMostrarComandos');
					
					const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
					if (!SpeechRecognition) {
						const btnVoice = document.getElementById('btnVoice');
						if (btnVoice) {
							btnVoice.style.display = 'none';
						}
					}
				});
				
			</script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
			
			<script>
				document.addEventListener('DOMContentLoaded', function() {
					// Carregar configurações do localStorage
					autoStartTime = localStorage.getItem('autoStartTime') || 5;
					autoStartVoiceTime = localStorage.getItem('autoStartVoiceTime') || 5;
					voiceCommandWord = localStorage.getItem('voiceCommandWord') || 'sargento';
					showVoiceCommandModal = localStorage.getItem('showVoiceCommandModal') || true; 
					
					document.getElementById('autoStartTime').value = autoStartTime;
					document.getElementById('autoStartVoiceTime').value = autoStartVoiceTime;
					document.getElementById('voiceCommandWord').value = voiceCommandWord;
					document.getElementById('showVoiceCommandModal').checked = showVoiceCommandModal;
					
					// Salvar configurações no localStorage
					document.getElementById('saveConfigButton').addEventListener('click', function() {
						localStorage.setItem('autoStartTime', document.getElementById('autoStartTime').value);
						localStorage.setItem('autoStartVoiceTime', document.getElementById('autoStartVoiceTime').value);
						localStorage.setItem('voiceCommandWord', document.getElementById('voiceCommandWord').value);
						localStorage.setItem('showVoiceCommandModal', document.getElementById('showVoiceCommandModal').checked);
						// Obtém a referência ao modal do Bootstrap e fecha
						var modalElement = document.getElementById("configModal");
						var modalInstance = bootstrap.Modal.getInstance(modalElement);
						modalInstance.hide();
						alert('Configurações salvas com sucesso!');
											
					});
					
					// Aplicar configurações ao comportamento de rolagem e voz
					function startRollout() {
						setTimeout(function() {
							// Código para iniciar a rolagem
						}, autoStartTime);
					}
					
					function startRolloutByVoice() {
						setTimeout(function() {
							// Código para iniciar a rolagem por voz
						}, autoStartVoiceTime);
					}
					
					// Substituir a palavra de comando de voz
					if (typeof recognition !== 'undefined') {
						recognition.onresult = function(event) {
							const transcript = event.results[0][0].transcript.trim().toLowerCase();
							if (transcript === voiceCommandWord) {
								startRolloutByVoice();
							}
						};
					}
				});
			</script>
			
			
			<script>
			/*
				document.getElementById('saveConfigButton').addEventListener('click', function() {
					autoStartTime = document.getElementById('autoStartTime').value;
					autoStartVoiceTime = document.getElementById('autoStartVoiceTime').value;
					voiceCommandWord = document.getElementById('voiceCommandWord').value;
					showVoiceCommandModal = document.getElementById('showVoiceCommandModal').checked;
					
					localStorage.setItem('autoStartTime', autoStartTime);
					localStorage.setItem('autoStartVoiceTime', autoStartVoiceTime);
					localStorage.setItem('voiceCommandWord', voiceCommandWord);
					localStorage.setItem('showVoiceCommandModal', showVoiceCommandModal);
					
					loadComandos();
					
					alert('Configurações salvas com sucesso!');
				});
			*/	
				window.addEventListener('load', function() {
					
					
					if (autoStartTime) {
						// Apply auto start time logic
					}
					
					if (autoStartVoiceTime) {
						// Apply auto start voice time logic
					}
					
					if (voiceCommandWord) {
						// Apply voice command word logic
					}
					
					if (showVoiceCommandModal) {
						// Apply logic to show voiceCommandModal when microphone is activated
					}
				});
			</script>
		</body>
	</html>
